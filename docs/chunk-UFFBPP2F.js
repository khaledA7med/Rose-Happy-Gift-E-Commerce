import{a as Ke,b as k,c as de}from"./chunk-MCMXQXQ6.js";import{$a as v,Fb as a,Hb as ae,Ma as d,Mb as W,Na as u,Ob as A,Sa as Ee,U as ie,V as q,Wa as D,X as re,Xa as se,Ya as V,Z as L,Za as S,Zb as le,a as C,aa as g,ac as ze,b as w,bb as qe,bc as Y,cc as N,dc as Ze,ec as Me,ga as oe,ha as Le,hb as h,ia as He,j as Re,ja as $e,jb as Fe,la as De,lb as _,lc as O,m as je,qb as o,r as Be,ra as m,rb as s,sb as y,sc as x,va as Ae,vb as We,wb as f,x as Ue,xa as K,xb as X}from"./chunk-QADCDCCZ.js";var it=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(u(Ee),u(Ae))};static \u0275dir=V({type:n})}return n})(),rt=(()=>{class n extends it{static \u0275fac=(()=>{let t;return function(r){return(t||(t=De(n)))(r||n)}})();static \u0275dir=V({type:n,features:[S]})}return n})(),_e=new L("");var Ot={provide:_e,useExisting:q(()=>F),multi:!0};function xt(){let n=Me()?Me().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var kt=new L(""),F=(()=>{class n extends it{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!xt())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(u(Ee),u(Ae),u(kt,8))};static \u0275dir=V({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&f("input",function(p){return r._handleInput(p.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(p){return r._compositionEnd(p.target.value)})},standalone:!1,features:[W([Ot]),S]})}return n})();function T(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function ot(n){return n!=null&&typeof n.length=="number"}var Oe=new L(""),xe=new L(""),Tt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,c=class{static min(e){return Gt(e)}static max(e){return Rt(e)}static required(e){return jt(e)}static requiredTrue(e){return Bt(e)}static email(e){return Ut(e)}static minLength(e){return Lt(e)}static maxLength(e){return Ht(e)}static pattern(e){return $t(e)}static nullValidator(e){return st(e)}static compose(e){return ht(e)}static composeAsync(e){return mt(e)}};function Gt(n){return e=>{if(T(e.value)||T(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Rt(n){return e=>{if(T(e.value)||T(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function jt(n){return T(n.value)?{required:!0}:null}function Bt(n){return n.value===!0?null:{required:!0}}function Ut(n){return T(n.value)||Tt.test(n.value)?null:{email:!0}}function Lt(n){return e=>T(e.value)||!ot(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Ht(n){return e=>ot(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function $t(n){if(!n)return st;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(T(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function st(n){return null}function at(n){return n!=null}function lt(n){return qe(n)?je(n):n}function dt(n){let e={};return n.forEach(t=>{e=t!=null?C(C({},e),t):e}),Object.keys(e).length===0?null:e}function ut(n,e){return e.map(t=>t(n))}function qt(n){return!n.validate}function ct(n){return n.map(e=>qt(e)?e:t=>e.validate(t))}function ht(n){if(!n)return null;let e=n.filter(at);return e.length==0?null:function(t){return dt(ut(t,e))}}function ft(n){return n!=null?ht(ct(n)):null}function mt(n){if(!n)return null;let e=n.filter(at);return e.length==0?null:function(t){let i=ut(t,e).map(lt);return Ue(i).pipe(Be(dt))}}function pt(n){return n!=null?mt(ct(n)):null}function Xe(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gt(n){return n._rawValidators}function vt(n){return n._rawAsyncValidators}function Se(n){return n?Array.isArray(n)?n:[n]:[]}function ce(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ye(n,e){let t=Se(e);return Se(n).forEach(r=>{ce(t,r)||t.push(r)}),t}function Je(n,e){return Se(e).filter(t=>!ce(n,t))}var he=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ft(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},H=class extends he{name;get formDirective(){return null}get path(){return null}},$=class extends he{_parent=null;name=null;valueAccessor=null},fe=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Wt={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Qn=w(C({},Wt),{"[class.ng-submitted]":"isSubmitted"}),R=(()=>{class n extends fe{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(u($,2))};static \u0275dir=V({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Fe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[S]})}return n})(),j=(()=>{class n extends fe{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(u(H,10))};static \u0275dir=V({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Fe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[S]})}return n})();var J="VALID",ue="INVALID",z="PENDING",Q="DISABLED",G=class{},me=class extends G{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ee=class extends G{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},te=class extends G{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Z=class extends G{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Pe=class extends G{source;constructor(e){super(),this.source=e}},Ie=class extends G{source;constructor(e){super(),this.source=e}};function _t(n){return(ye(n)?n.validators:n)||null}function zt(n){return Array.isArray(n)?ft(n):n||null}function yt(n,e){return(ye(e)?e.asyncValidators:n)||null}function Zt(n){return Array.isArray(n)?pt(n):n||null}function ye(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Kt(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new ie(1e3,"");if(!i[t])throw new ie(1001,"")}function Xt(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new ie(1002,"")})}var pe=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return N(this.statusReactive)}set status(e){N(()=>this.statusReactive.set(e))}_status=Y(()=>this.statusReactive());statusReactive=K(void 0);get valid(){return this.status===J}get invalid(){return this.status===ue}get pending(){return this.status==z}get disabled(){return this.status===Q}get enabled(){return this.status!==Q}errors;get pristine(){return N(this.pristineReactive)}set pristine(e){N(()=>this.pristineReactive.set(e))}_pristine=Y(()=>this.pristineReactive());pristineReactive=K(!0);get dirty(){return!this.pristine}get touched(){return N(this.touchedReactive)}set touched(e){N(()=>this.touchedReactive.set(e))}_touched=Y(()=>this.touchedReactive());touchedReactive=K(!1);get untouched(){return!this.touched}_events=new Re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ye(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ye(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Je(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Je(e,this._rawAsyncValidators))}hasValidator(e){return ce(this._rawValidators,e)}hasAsyncValidator(e){return ce(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(w(C({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new te(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new te(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(w(C({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ee(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new ee(!0,i))}markAsPending(e={}){this.status=z;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Z(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(w(C({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Q,this.errors=null,this._forEachChild(r=>{r.disable(w(C({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new me(this.value,i)),this._events.next(new Z(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(w(C({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=J,this._forEachChild(i=>{i.enable(w(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(w(C({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===J||this.status===z)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new me(this.value,t)),this._events.next(new Z(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(w(C({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Q:J}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=z,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=lt(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Z(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new m,this.statusChanges=new m}_calculateStatus(){return this._allControlsDisabled()?Q:this.errors?ue:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(z)?z:this._anyControlsHaveStatus(ue)?ue:J}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new ee(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new te(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ye(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=zt(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Zt(this._rawAsyncValidators)}},E=class extends pe{constructor(e,t,i){super(_t(t),yt(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Xt(this,!0,e),Object.keys(e).forEach(i=>{Kt(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,l)=>{i=t(i,r,l)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ce=new L("",{providedIn:"root",factory:()=>be}),be="always";function Ct(n,e){return[...e.path,n]}function Ne(n,e,t=be){ke(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Jt(n,e),en(n,e),Qt(n,e),Yt(n,e)}function Qe(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ve(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ge(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yt(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ke(n,e){let t=gt(n);e.validator!==null?n.setValidators(Xe(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=vt(n);e.asyncValidator!==null?n.setAsyncValidators(Xe(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();ge(e._rawValidators,r),ge(e._rawAsyncValidators,r)}function ve(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=gt(n);if(Array.isArray(r)&&r.length>0){let l=r.filter(p=>p!==e.validator);l.length!==r.length&&(t=!0,n.setValidators(l))}}if(e.asyncValidator!==null){let r=vt(n);if(Array.isArray(r)&&r.length>0){let l=r.filter(p=>p!==e.asyncValidator);l.length!==r.length&&(t=!0,n.setAsyncValidators(l))}}}let i=()=>{};return ge(e._rawValidators,i),ge(e._rawAsyncValidators,i),t}function Jt(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&bt(n,e)})}function Qt(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&bt(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function bt(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function en(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function tn(n,e){n==null,ke(n,e)}function nn(n,e){return ve(n,e)}function Vt(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function rn(n){return Object.getPrototypeOf(n.constructor)===rt}function on(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function wt(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(l=>{l.constructor===F?t=l:rn(l)?i=l:r=l}),r||i||t||null}function sn(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function et(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tt(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var b=class extends pe{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(_t(t),yt(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ye(t)&&(t.nonNullable||t.initialValueIsDefault)&&(tt(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){et(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){et(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tt(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var an=n=>n instanceof b;var ln={provide:$,useExisting:q(()=>dn)},nt=Promise.resolve(),dn=(()=>{class n extends ${_changeDetectorRef;callSetDisabledState;control=new b;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new m;constructor(t,i,r,l,p,Nt){super(),this._changeDetectorRef=p,this.callSetDisabledState=Nt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=wt(this,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Vt(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ne(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){nt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&ze(i);nt.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ct(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(u(H,9),u(Oe,10),u(xe,10),u(_e,10),u(le,8),u(Ce,8))};static \u0275dir=V({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[W([ln]),S,oe]})}return n})(),B=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),un={provide:_e,useExisting:q(()=>Te),multi:!0},Te=(()=>{class n extends rt{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=De(n)))(r||n)}})();static \u0275dir=V({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&f("input",function(p){return r.onChange(p.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[W([un]),S]})}return n})();var Dt=new L("");var cn={provide:H,useExisting:q(()=>P)},P=(()=>{class n extends H{callSetDisabledState;get submitted(){return N(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Y(()=>this._submittedReactive());_submittedReactive=K(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new m;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ve(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Ne(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Qe(t.control||null,t,!1),sn(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),on(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Pe(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Ie(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Qe(i||null,t),an(r)&&(Ne(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);tn(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&nn(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ke(this.form,this),this._oldForm&&ve(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(u(Oe,10),u(xe,10),u(Ce,8))};static \u0275dir=V({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&f("submit",function(p){return r.onSubmit(p)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[W([cn]),S,oe]})}return n})();var hn={provide:$,useExisting:q(()=>I)},I=(()=>{class n extends ${_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new m;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,l,p){super(),this._ngModelWarningConfig=p,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=wt(this,l)}ngOnChanges(t){this._added||this._setUpControl(),Vt(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ct(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(u(H,13),u(Oe,10),u(xe,10),u(_e,10),u(Dt,8))};static \u0275dir=V({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[W([hn]),S,oe]})}return n})();var At=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({})}return n})();var ti=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ce,useValue:t.callSetDisabledState??be}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[At]})}return n})(),U=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Dt,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ce,useValue:t.callSetDisabledState??be}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=se({type:n});static \u0275inj=re({imports:[At]})}return n})();function fn(n,e){n&1&&($e(),o(0,"svg",1),y(1,"path",2)(2,"path",3),s(),a(3," Loading... "))}function mn(n,e){if(n&1&&a(0),n&2){let t=X();ae(" ",t.label," ")}}var M=class n{label="Login";disabled=!1;loading=!1;clicked=new m;onClick(){!this.loading&&!this.disabled&&this.clicked.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=D({type:n,selectors:[["app-auth-button"]],inputs:{label:"label",disabled:"disabled",loading:"loading"},outputs:{clicked:"clicked"},decls:3,vars:2,consts:[["type","button",1,"auth-button","w-96",3,"click","disabled"],["aria-hidden","true","role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","me-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(t,i){t&1&&(o(0,"button",0),f("click",function(){return i.onClick()}),v(1,fn,4,0)(2,mn,1,1),s()),t&2&&(h("disabled",i.disabled||i.loading),d(),_(i.loading?1:2))},encapsulation:2})};var Et=n=>({"border-red-500 dark:border-red-600":n});function pn(n,e){n&1&&(o(0,"p",2),a(1," Email is required. "),s())}function gn(n,e){n&1&&(o(0,"p",2),a(1,"Email is Invalid"),s())}function vn(n,e){n&1&&(o(0,"p",2),a(1,"Password is Required"),s())}function _n(n,e){n&1&&(o(0,"p",2),a(1,"Password must be at least 8 characters long"),s())}function yn(n,e){n&1&&(o(0,"p",2),a(1,"Password must contain at least one special character ,one uppercase letter and one number"),s())}var Ft=class n{isSignIn=!0;register=!1;forgetPass=!1;verify=!1;setPass=!1;loginForm;submitted=!1;loading=!1;subscription=[];changeState=new m;_AuthApiService=g(k);modalService=g(Ke);ngOnInit(){this.initLoginForm()}forgetPassword(){this.changeState.emit("forgetPassword")}registerAccount(){this.changeState.emit("register")}initLoginForm(){this.loginForm=new E({email:new b("",[c.required,c.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]),password:new b("",[c.required,c.minLength(8),c.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)])})}get loginControls(){return this.loginForm.controls}validationChecker(){return!this.loginForm.invalid}signin(){if(this.submitted=!0,!this.validationChecker())return;this.loading=!0;let e={email:this.loginControls.email.value,password:this.loginControls.password.value},t=this._AuthApiService.login(e).subscribe({next:i=>{i.message==="success"&&(localStorage.setItem("app:token",i.token),this.submitted=!1,this.loading=!1,this.onModalClose(),window.location.reload())},error:i=>{this.loading=!1,this.submitted=!1,this.onModalClose()}});this.subscription.push(t)}onModalClose(){this.modalService.close("login"),this.isSignIn=!0,this.forgetPass=!1,this.verify=!1,this.setPass=!1}ngOnDestroy(){this.subscription&&this.subscription.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=D({type:n,selectors:[["app-login"]],outputs:{changeState:"changeState"},decls:24,vars:11,consts:[[1,"space-y-4",3,"formGroup"],["type","email","name","email","id","email","formControlName","email","placeholder","Email",1,"auth-input","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white",3,"ngClass"],[1,"text-red-500","text-sm","mt-1"],["type","password","name","password","id","password","placeholder","Password","formControlName","password",1,"auth-input","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white",3,"ngClass"],[1,"flex","justify-between"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","remember","type","checkbox","value","",1,"w-4","h-4","border","border-gray-300","rounded-sm","bg-gray-50","focus:ring-3","focus:ring-blue-300","dark:bg-gray-600","dark:border-gray-500","dark:focus:ring-blue-600","dark:ring-offset-gray-800","dark:focus:ring-offset-gray-800"],["for","remember",1,"remind","text-sm","ms-2","leading-5","text-left","font-normal"],["type","button",1,"forgetPassword","text-sm","text-left","font-semibold","leading-5","hover:underline",3,"click"],[1,"text-sm","text-center","font-medium","text-gray-500","dark:text-gray-300"],["type","button",1,"register","text-sm","hover:underline","text-left","leading-5","font-semibold",3,"click"],[1,"flex","justify-center"],[3,"clicked","label","loading"]],template:function(t,i){t&1&&(o(0,"form",0)(1,"div"),y(2,"input",1),v(3,pn,2,0,"p",2)(4,gn,2,0,"p",2),s(),o(5,"div"),y(6,"input",3),v(7,vn,2,0,"p",2)(8,_n,2,0,"p",2)(9,yn,2,0,"p",2),s(),o(10,"div",4)(11,"div",5)(12,"div",6),y(13,"input",7),s(),o(14,"label",8),a(15,"Remind me"),s()(),o(16,"button",9),f("click",function(){return i.forgetPassword()}),a(17,"Forgot Password "),s()(),o(18,"div",10),a(19," No account? "),o(20,"button",11),f("click",function(){return i.registerAccount()}),a(21," Create one here "),s()(),o(22,"div",12)(23,"app-auth-button",13),f("clicked",function(){return i.signin()}),s()()()),t&2&&(h("formGroup",i.loginForm),d(2),h("ngClass",A(7,Et,(i.loginControls.email.touched||i.submitted)&&(i.loginControls.email.hasError("pattern")||i.loginControls.email.hasError("required")))),d(),_((i.loginControls.email.touched||i.submitted)&&i.loginControls.email.hasError("required")?3:i.loginControls.email.hasError("pattern")?4:-1),d(3),h("ngClass",A(9,Et,(i.loginControls.password.touched||i.submitted)&&(i.loginControls.password.hasError("pattern")||i.loginControls.password.hasError("required")||i.loginControls.password.hasError("minlength")))),d(),_((i.loginControls.password.touched||i.submitted)&&i.loginControls.password.hasError("required")?7:i.loginControls.password.hasError("minlength")?8:i.loginControls.password.hasError("pattern")?9:-1),d(16),h("label","Login")("loading",i.loading))},dependencies:[U,B,F,R,j,P,I,x,O,M],styles:[".auth-text[_ngcontent-%COMP%], .remind[_ngcontent-%COMP%], .forgetPassword[_ngcontent-%COMP%], .register[_ngcontent-%COMP%]{font-family:var(--font-inter)}.register[_ngcontent-%COMP%], .forgetPassword[_ngcontent-%COMP%]{color:var(--primary-color)}"]})};var Cn=n=>({"auth-input border-red-500 dark:border-red-600":n});function bn(n,e){n&1&&(o(0,"p",2),a(1,"Email is Required"),s())}function Vn(n,e){n&1&&(o(0,"p",2),a(1,"Email is Invalid"),s())}var Mt=class n{isSignIn=!0;register=!1;forgetPass=!1;verify=!1;setPass=!1;forgetPasswordForm;submitted=!1;loading=!1;subscription=[];changeState=new m;_AuthApiService=g(k);authService=g(de);ngOnInit(){this.initLoginForm()}recoverPassword(){this.changeState.emit("verify")}initLoginForm(){this.forgetPasswordForm=new E({email:new b("",[c.required,c.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)])})}get forgetPasswordControls(){return this.forgetPasswordForm.controls}validationChecker(){return!this.forgetPasswordForm.invalid}forgetPassword(){if(this.submitted=!0,!this.validationChecker())return;this.loading=!0;let e={email:this.forgetPasswordControls.email.value},t=this._AuthApiService.forgetPassword(e).subscribe({next:i=>{i.message==="success"&&(this.authService.setUserEmail(e.email),this.submitted=!1,this.loading=!1,this.recoverPassword())},error:i=>{this.submitted=!1,this.loading=!1}});this.subscription.push(t)}ngOnDestroy(){this.subscription&&this.subscription.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=D({type:n,selectors:[["app-forget-password"]],outputs:{changeState:"changeState"},decls:7,vars:7,consts:[[1,"space-y-4",3,"formGroup"],["type","email","name","email","id","email","formControlName","email","placeholder","Email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white",3,"ngClass"],[1,"text-red-500","text-sm","mt-1"],[1,"flex","justify-center"],[3,"clicked","label","loading"]],template:function(t,i){t&1&&(o(0,"form",0)(1,"div"),y(2,"input",1),v(3,bn,2,0,"p",2)(4,Vn,2,0,"p",2),s(),o(5,"div",3)(6,"app-auth-button",4),f("clicked",function(){return i.forgetPassword()}),s()()()),t&2&&(h("formGroup",i.forgetPasswordForm),d(2),h("ngClass",A(5,Cn,(i.forgetPasswordControls.email.touched||i.submitted)&&(i.forgetPasswordControls.email.hasError("pattern")||i.forgetPasswordControls.email.hasError("required")))),d(),_((i.forgetPasswordControls.email.touched||i.submitted)&&i.forgetPasswordControls.email.hasError("required")?3:i.forgetPasswordControls.email.hasError("pattern")?4:-1),d(3),h("label","Recover Password")("loading",i.loading))},dependencies:[U,B,F,R,j,P,I,x,O,M],encapsulation:2})};var wn=n=>({"auth-input border-red-500 dark:border-red-600":n});function Dn(n,e){n&1&&(o(0,"p",2),a(1,"Code is Required"),s())}function An(n,e){n&1&&(o(0,"p",2),a(1,"Code must be 6 numbers"),s())}function En(n,e){n&1&&(o(0,"p",2),a(1,"Code must be only numbers"),s())}function Fn(n,e){if(n&1){let t=We();o(0,"span",7),a(1," Didn't receive a code? "),s(),o(2,"span",8),f("click",function(){Le(t);let r=X();return He(r.resendCode())}),a(3," Resend "),s()}}function Mn(n,e){if(n&1&&(o(0,"span",4),a(1),s()),n&2){let t=X();d(),ae(" Resend in ",t.timeRemaining," seconds ")}}var St=class n{isSignIn=!0;register=!1;forgetPass=!1;verify=!1;setPass=!1;verifyForm;submitted=!1;loading=!1;subscription=[];userEmail=null;resendDisabled=!1;timeRemaining=30;timerInterval;changeState=new m;_AuthApiService=g(k);cdr=g(le);authService=g(de);constructor(){Ze(()=>{this.userEmail=this.authService.getUserEmailSignal()()})}ngOnInit(){this.initVerifyForm(),this.startResendTimer()}verifyCode(){this.changeState.emit("setPassword")}initVerifyForm(){this.verifyForm=new E({resetCode:new b("",[c.required,c.minLength(6),c.maxLength(6),c.pattern(/^[0-9]{6}$/)])})}get verifyControls(){return this.verifyForm.controls}startResendTimer(){this.resendDisabled=!0,this.timeRemaining=60,this.timerInterval=setInterval(()=>{this.timeRemaining>0?(this.timeRemaining--,this.cdr.detectChanges()):(this.resendDisabled=!1,clearInterval(this.timerInterval),this.cdr.detectChanges())},1e3)}resendCode(){this.resendOtp()}resendOtp(){this.startResendTimer();let e={email:this.userEmail},t=this._AuthApiService.forgetPassword(e).subscribe({next:i=>{i.message==="success"&&console.log("success")},error:i=>{console.log("error")}});this.subscription.push(t)}validationChecker(){return!this.verifyForm.invalid}verifyOtp(){if(this.submitted=!0,!this.validationChecker())return;this.loading=!0;let e={resetCode:this.verifyControls.resetCode.value.toString()},t=this._AuthApiService.verifyCode(e).subscribe({next:i=>{i.status==="Success"&&(this.submitted=!1,this.loading=!1,this.verifyCode())},error:i=>{this.submitted=!1,this.loading=!1}});this.subscription.push(t)}ngOnDestroy(){this.subscription&&this.subscription.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=D({type:n,selectors:[["app-verify"]],outputs:{changeState:"changeState"},decls:11,vars:8,consts:[[1,"space-y-4",3,"formGroup"],["type","number","name","number","id","number","formControlName","resetCode","placeholder","Enter Code",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white",3,"ngClass"],[1,"text-red-500","text-sm","mt-1"],[1,"text-right","mt-3"],[1,"recover"],[1,"flex","justify-center"],[3,"clicked","label","loading"],[1,"rec"],[1,"recover","hover:underline",3,"click"]],template:function(t,i){t&1&&(o(0,"form",0)(1,"div"),y(2,"input",1),v(3,Dn,2,0,"p",2)(4,An,2,0,"p",2)(5,En,2,0,"p",2),o(6,"div",3),v(7,Fn,4,0)(8,Mn,2,1,"span",4),s()(),o(9,"div",5)(10,"app-auth-button",6),f("clicked",function(){return i.verifyOtp()}),s()()()),t&2&&(h("formGroup",i.verifyForm),d(2),h("ngClass",A(6,wn,(i.verifyControls.resetCode.touched||i.submitted)&&(i.verifyControls.resetCode.hasError("pattern")||i.verifyControls.resetCode.hasError("required")||i.verifyControls.resetCode.hasError("minlength")))),d(),_((i.verifyControls.resetCode.touched||i.submitted)&&i.verifyControls.resetCode.hasError("required")?3:i.verifyControls.resetCode.hasError("minlength")||i.verifyControls.resetCode.hasError("maxlength")?4:i.verifyControls.resetCode.hasError("pattern")?5:-1),d(4),_(i.resendDisabled?i.resendDisabled?8:-1:7),d(3),h("label","Verify")("loading",i.loading))},dependencies:[U,B,F,Te,R,j,P,I,x,O,M],styles:[".recover[_ngcontent-%COMP%]{font-family:var(--font-inter);font-size:16px;font-weight:400;line-height:24px;text-align:right;color:var(--primary-color);cursor:pointer}"]})};var Pt=n=>({"auth-input border-red-500 dark:border-red-600":n});function Sn(n,e){n&1&&(o(0,"p",2),a(1,"Email is Required"),s())}function Pn(n,e){n&1&&(o(0,"p",2),a(1,"Email is Invalid"),s())}function In(n,e){n&1&&(o(0,"p",2),a(1,"Password is Required"),s())}function Nn(n,e){n&1&&(o(0,"p",2),a(1,"Password must be at least 8 characters long"),s())}function On(n,e){n&1&&(o(0,"p",2),a(1,"Password must contain at least one special character ,one uppercase letter and one number"),s())}var It=class n{isSignIn=!0;register=!1;forgetPass=!1;verify=!1;setPass=!1;setPasswordForm;submitted=!1;loading=!1;subscription=[];changeState=new m;_AuthApiService=g(k);ngOnInit(){this.initSetPasswordForm()}setPassword(){this.changeState.emit("login")}initSetPasswordForm(){this.setPasswordForm=new E({email:new b("",[c.required,c.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]),newPassword:new b("",[c.required,c.minLength(8),c.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)])})}get setPasswordControls(){return this.setPasswordForm.controls}validationChecker(){return!this.setPasswordForm.invalid}resetPassword(){if(this.submitted=!0,!this.validationChecker())return;this.loading=!0;let e={email:this.setPasswordControls.email.value,newPassword:this.setPasswordControls.newPassword.value};this._AuthApiService.resetPassword(e).subscribe({next:t=>{t.message==="success"&&(this.submitted=!1,this.loading=!1,this.setPassword())},error:t=>{this.loading=!1}})}ngOnDestroy(){this.subscription&&this.subscription.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=D({type:n,selectors:[["app-set-password"]],outputs:{changeState:"changeState"},decls:12,vars:11,consts:[[1,"space-y-4",3,"formGroup"],["type","email","name","email","id","email","placeholder","Enter Email","formControlName","email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white",3,"ngClass"],[1,"text-red-500","text-sm","mt-1"],["type","password","name","password","id","password","placeholder","Enter Password","formControlName","newPassword",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-600","dark:border-gray-500","dark:placeholder-gray-400","dark:text-white",3,"ngClass"],[1,"flex","justify-center"],[3,"clicked","label","loading"]],template:function(t,i){t&1&&(o(0,"form",0)(1,"div"),y(2,"input",1),v(3,Sn,2,0,"p",2)(4,Pn,2,0,"p",2),s(),o(5,"div"),y(6,"input",3),v(7,In,2,0,"p",2)(8,Nn,2,0,"p",2)(9,On,2,0,"p",2),s(),o(10,"div",4)(11,"app-auth-button",5),f("clicked",function(){return i.resetPassword()}),s()()()),t&2&&(h("formGroup",i.setPasswordForm),d(2),h("ngClass",A(7,Pt,(i.setPasswordControls.email.touched||i.submitted)&&(i.setPasswordControls.email.hasError("pattern")||i.setPasswordControls.email.hasError("required")))),d(),_((i.setPasswordControls.email.touched||i.submitted)&&i.setPasswordControls.email.hasError("required")?3:i.setPasswordControls.email.hasError("pattern")?4:-1),d(3),h("ngClass",A(9,Pt,(i.setPasswordControls.newPassword.touched||i.submitted)&&(i.setPasswordControls.newPassword.hasError("pattern")||i.setPasswordControls.newPassword.hasError("required")||i.setPasswordControls.newPassword.hasError("minlength")))),d(),_((i.setPasswordControls.newPassword.touched||i.submitted)&&i.setPasswordControls.newPassword.hasError("required")?7:i.setPasswordControls.newPassword.hasError("minlength")?8:i.setPasswordControls.newPassword.hasError("pattern")?9:-1),d(4),h("label","Set a Password")("loading",i.loading))},dependencies:[U,B,F,R,j,P,I,x,O,M],encapsulation:2})};export{_e as a,F as b,c,R as d,j as e,E as f,b as g,dn as h,B as i,P as j,I as k,ti as l,U as m,M as n,Ft as o,Mt as p,St as q,It as r};
